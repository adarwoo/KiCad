{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "rack schema",
    "description": "PCB2GCode generator Rack description schema for Yaml rack files descriptors.",
    "revision": "1.0",
    "type": "object",
    "properties": {
      "datetime": { "type": "string" },
      "issue": { "type": "integer" },
      "use": { "type": "string" },
      "size": { "type": "integer" },
      "racks": {
        "type": "object",
        "patternProperties": {
          "^[a-zA-Z0-9_-]+$": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "number": { "type": "integer" },
                "drill": { "type": "number" },
                "router": { "type": "number" }
              },
              "oneOf": [
                { "required": ["drill"], "not": { "required": ["router"] } },
                { "required": ["router"], "not": { "required": ["drill"] } },
              ],
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false
      }
    },
    "required": ["size"],
    "additionalProperties": false
  }